#!/usr/bin/env bash

function print_help() {
  echo "

Switch vimrc files with one line

Usage:
  swim help              Show this message
  swim use               Change active vimrc file
  swim ls                List aliased vimrc files


Example:
  swim use main          Set $HOME/.swim/.swimrc.main to be your primary .vimrc
  swim use pairing       Set $HOME/.swim/.swimrc.pairing to be your primary .vimrc


Setup:
  Name your vimrc files \"swimrc.<alias>\" and place in $HOME/.swim
  ls $HOME/.swim to see file naming convention.


Report bugs to: https://github.com/dawsonbotsford/swim/issues

Uninstall: \"swim uninstall\"
"
}

function swim_ls() {
  for file in $HOME/.swim/*
  do
    echo "  "$file | cut -d . -f 3
  done
}

function uninstall() {
  rm -rf $HOME/.swim
  #Remove swim from path
  echo "swim uninstalled"
}

#Help conditions
if [ $# -lt 1 ]; then
  print_help
  exit
fi

while [ $# -gt 0 ]; do
  case "$1" in
    -h | --help | help) print_help
      exit;;
    ls) shift
      swim_ls;;
    use) shift
      if [ -a "$HOME/.swim/swimrc.$1" ]; then
        echo "Now using vimrc file: "$1
        # mv $HOME/.vimrc $HOME/.swim/swimrc.<alias>
        # vim -u $HOME/.swim/swimrc.$1 test.html

      else
        echo "Alias $1 not found"
      fi
      shift;;
    uninstall) uninstall
               exit;;
    *) print_help
      exit;;
  esac
done

